<div class="page" (click)="closeAll()">
  <header class="hero" (click)="$event.stopPropagation()">
    <div class="hero-copy">
      <div class="eyebrow">Angular 16+ standalone directive</div>
      <h1>ng-auto-position</h1>
      <p class="lead">
        Auto-position dropdowns, popovers, and floating panels without Angular
        CDK. Scroll-aware, viewport-safe, and tiny enough for real apps.
      </p>

      <div class="install-card">
        <div class="install-label">Install</div>
        <code class="install-command">npm i ng-auto-position</code>
        <div class="install-alt">
          <span>pnpm add ng-auto-position</span>
          <span>yarn add ng-auto-position</span>
        </div>
      </div>

      <div class="quick-links">
        <a
          class="link-button"
          href="https://www.npmjs.com/package/ng-auto-position"
          target="_blank"
          rel="noreferrer"
        >
          npm
        </a>
        <a
          class="link-button ghost"
          href="https://github.com/roshan2197/ng-auto-position"
          target="_blank"
          rel="noreferrer"
        >
          GitHub
        </a>
      </div>

      <div class="feature-grid">
        <div class="feature-card">
          <h3>Smart Positioning</h3>
          <p>Opens above or below and clamps when visible.</p>
        </div>
        <div class="feature-card">
          <h3>Scroll Aware</h3>
          <p>Tracks the anchor even while the page moves.</p>
        </div>
        <div class="feature-card">
          <h3>Lightweight</h3>
          <p>Standalone directive with no CDK dependency.</p>
        </div>
      </div>
    </div>

    <div class="hero-demo">
      <div class="demo-card">
        <div class="demo-header">Live Demo</div>
        <div class="demo-body">
          <div class="demo-row">
            <button
              id="menuButton"
              class="demo-button"
              (click)="toggleMenu(); $event.stopPropagation()"
            >
              Open menu
            </button>
            @if (showMenu) {
              <div
                ngAutoPosition
                referenceElementId="menuButton"
                [matchWidth]="true"
                [scrollableSelector]="'.menu-items'"
                [offset]="10"
                class="menu-panel"
                (click)="$event.stopPropagation()"
              >
                <div class="menu-items">
                  @for (item of menuItems; track item) {
                    <div class="menu-item">{{ item }}</div>
                  }
                </div>
              </div>
            }
          </div>

          <div class="demo-row">
            <button
              id="infoButton"
              class="demo-button ghost"
              (click)="togglePopover(); $event.stopPropagation()"
            >
              Why it feels solid
            </button>
            @if (showPopover) {
              <div
                ngAutoPosition
                referenceElementId="infoButton"
                [offset]="12"
                class="popover"
                (click)="$event.stopPropagation()"
              >
                <h4>Positioning rules</h4>
                <p>
                  When the anchor is on-screen, the panel clamps to the
                  viewport. When the anchor scrolls away, the panel follows it
                  naturally instead of freezing mid-air.
                </p>
              </div>
            }
          </div>
        </div>
        <div class="demo-footer">
          Try scrolling the page. Panels stay attached to their anchors.
        </div>
      </div>
    </div>
  </header>

  <section class="content">
    <div class="content-card">
      <h2>Quick Start</h2>
      <!-- <div class="code-block">
        <pre><code>import &#123; NgAutoPositionModule &#125; from 'ng-auto-position';
            @NgModule(&#123;
              imports: [NgAutoPositionModule]
            &#125;)
            export class AppModule &#123; &#125;</code></pre>
      </div> -->
      <div class="code-block">
        <pre><code>&lt;button id="menuBtn"&gt;Menu&lt;/button&gt;
&lt;div
  ngAutoPosition
  referenceElementId="menuBtn"
  [offset]="8"
  [matchWidth]="true"
&gt;
  Menu content
&lt;/div&gt;</code></pre>
      </div>
    </div>

    <div class="content-card">
      <h2>Core Inputs</h2>
      <ul class="input-list">
        <li><strong>referenceElementId</strong> - ID of the anchor element.</li>
        <li>
          <strong>enableAutoReposition</strong> - Track scroll and resize.
        </li>
        <li><strong>offset</strong> - Gap between the anchor and panel.</li>
        <li><strong>matchWidth</strong> - Match panel width to anchor.</li>
        <li><strong>scrollableSelector</strong> - Constrain inner scroll.</li>
        <li>
          <strong>hideScrollTargets</strong> - Hide scrollbars while open.
        </li>
      </ul>
    </div>
  </section>

  <section class="examples">
    <div class="content-card">
      <h2>Example: Internal Scroll Menu</h2>
      <p class="card-lead">
        A tall menu that becomes scrollable when there is not enough space in
        the viewport.
      </p>
      <div class="example-panel">
        <button
          id="inlineMenuButton"
          class="demo-button"
          (click)="toggleInline(); $event.stopPropagation()"
        >
          Toggle long menu
        </button>
        @if (showInline) {
          <div
            ngAutoPosition
            referenceElementId="inlineMenuButton"
            [scrollableSelector]="'.long-menu'"
            [matchWidth]="true"
            [offset]="10"
            class="menu-panel"
            (click)="$event.stopPropagation()"
          >
            <div class="long-menu">
              <div class="menu-item">Profile</div>
              <div class="menu-item">Billing</div>
              <div class="menu-item">Workspace</div>
              <div class="menu-item">Security</div>
              <div class="menu-item">Notifications</div>
              <div class="menu-item">Integrations</div>
              <div class="menu-item">Appearance</div>
              <div class="menu-item">Keyboard shortcuts</div>
              <div class="menu-item">Sign out</div>
            </div>
          </div>
        }
      </div>
      <div class="code-block">
        <pre><code>&lt;button id="inlineMenuButton"&gt;Toggle long menu&lt;/button&gt;
&lt;div
  ngAutoPosition
  referenceElementId="inlineMenuButton"
  [scrollableSelector]="'.long-menu'"
  [matchWidth]="true"
&gt;
  &lt;div class="long-menu"&gt;...&lt;/div&gt;
&lt;/div&gt;</code></pre>
      </div>
    </div>

    <div class="content-card">
      <h2>Example: Scroll Playground</h2>
      <p class="card-lead">
        Scroll the panel to see the overlay track the anchor. When the anchor
        leaves the viewport, the overlay follows it instead of freezing.
      </p>
      <div class="scroll-playground">
        <div class="scroll-step">
          <div>Scroll the page to reach the anchor.</div>
        </div>
        <div class="scroll-step anchor-zone">
          <button
            id="scrollAnchor"
            class="demo-button ghost"
            (click)="toggleSticky(); $event.stopPropagation()"
          >
            Anchor in scroll
          </button>
          @if (showSticky) {
            <div
              ngAutoPosition
              referenceElementId="scrollAnchor"
              [offset]="12"
              class="popover"
              (click)="$event.stopPropagation()"
            >
              <h4>Scroll behavior</h4>
              <p>
                The overlay stays glued to the anchor while you scroll the page.
              </p>
            </div>
          }
        </div>
        <div class="scroll-step">
          <div>Keep scrolling to push the anchor off-screen.</div>
        </div>
      </div>
      <div class="code-block">
        <pre><code>&lt;div class="scroll-playground"&gt;
  &lt;button id="scrollAnchor"&gt;Anchor&lt;/button&gt;
  &lt;div ngAutoPosition referenceElementId="scrollAnchor"&gt;...&lt;/div&gt;
&lt;/div&gt;</code></pre>
      </div>
    </div>
  </section>
</div>
